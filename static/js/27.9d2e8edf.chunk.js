(this["webpackJsonpkinopub.webos"]=this["webpackJsonpkinopub.webos"]||[]).push([[27],{1110:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var c=n(107),r=n(2),a=n(198),o=n.n(a),u=n(32),i=n(897),s=n(6),l=n(3),b=function(e){var t=e.bookmark,n=(e.className,Object(u.h)()),c=Object(r.useMemo)((function(){return t?"https://dummyimage.com/250x200/222/fff.png&text=".concat("\u0424\u0438\u043b\u044c\u043c\u043e\u0432 ".concat(t.count)):""}),[t]),a=Object(r.useCallback)((function(){(null===t||void 0===t?void 0:t.id)&&n.push(Object(s.b)(s.a.Bookmark,{bookmarkId:t.id}),{bookmark:t,title:t.title})}),[t,n]);return Object(l.jsx)(i.a,{onClick:a,source:c,caption:null===t||void 0===t?void 0:t.title})},j=n(894),d=n(896),f=function(e){var t=e.title,n=e.bookmarks,r=e.loading,a=e.onScrollToEnd,u=e.scrollable,i=void 0===u||u,s=Object(l.jsxs)("div",{children:[Object(l.jsx)(d.a,{children:t}),Object(l.jsxs)("div",{className:"flex flex-wrap pr-2",children:[o()(n,(function(e){return Object(l.jsx)(b,{bookmark:e},e.id)})),r&&o()(Object(c.a)(new Array(20)),(function(e,t){return Object(l.jsx)(b,{},t)}))]})]});return i?Object(l.jsx)(j.b,{onScrollToEnd:a,children:s}):s},O=n(895),v=n(898),m=function(){var e=Object(v.a)("bookmarks"),t=e.data,n=e.isLoading,c="\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438";return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(O.a,{title:c}),Object(l.jsx)(f,{title:c,bookmarks:null===t||void 0===t?void 0:t.items,loading:n})]})}},894:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return O}));var c=n(13),r=n(60),a=n(2),o=n(55),u=n.n(o),i=n(59),s=n(108),l=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{disconnectOnLeave:!1},r=t.onEnterViewport,o=t.onLeaveViewport,u=Object(a.useState)(),l=Object(i.a)(u,2),b=l[1],j=Object(a.useRef)(null),d=Object(a.useRef)(!1),f=Object(a.useRef)(!1),O=Object(a.useRef)(0),v=Object(a.useRef)(0),m=Object(a.useCallback)((function(){if(e.current&&j.current){var t=Object(s.findDOMNode)(e.current);t&&j.current.observe(t)}}),[e,j]),x=Object(a.useCallback)((function(){if(e.current&&j.current){var t=Object(s.findDOMNode)(e.current);t&&(j.current.unobserve(t),j.current.disconnect(),j.current=null)}}),[e,j]),h=Object(a.useCallback)((function(e){var t=e[0]||{},n=t.isIntersecting,a=t.intersectionRatio,u="undefined"!==typeof n?n:a>0;if(!f.current&&u)return f.current=!0,null===r||void 0===r||r(),O.current+=1,d.current=u,void b(u);f.current&&!u&&(f.current=!1,null===o||void 0===o||o(),c.disconnectOnLeave&&j.current&&j.current.disconnect(),v.current+=1,d.current=u,b(u))}),[j,c.disconnectOnLeave,r,o]),p=Object(a.useCallback)((function(){j.current||(j.current=new IntersectionObserver(h,n))}),[j,n,h]);return Object(a.useEffect)((function(){return p(),m(),function(){x()}}),[p,m,x]),{inViewport:d.current,enterCount:O.current,leaveCount:v.current}},b=n(1104);var j=function(e){var t=Object(b.a)();return Object(a.useMemo)((function(){return"".concat(e,"-").concat(t)}),[e,t])},d=n(3),f=["children","className","onScrollToEnd"],O=Object(a.createContext)({}),v=function(e){var t=e.children,n=e.className,o=e.onScrollToEnd,i=Object(r.a)(e,f),s=Object(a.useRef)(null),b=j("scrollable"),v=Object(a.useMemo)((function(){return{id:b}}),[b]);return l(s,{onEnterViewport:o}),Object(d.jsxs)("div",Object(c.a)(Object(c.a)({className:u()("overflow-y-auto h-full",n)},i),{},{id:b,children:[Object(d.jsx)(O.Provider,{value:v,children:t}),o&&Object(d.jsx)("div",{className:"h-40",ref:s})]}))}},895:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(13),r=n(899),a=n(3),o=function(e){return Object(a.jsx)(r.a,Object(c.a)({defaultTitle:"Unknown",titleTemplate:"%s | Kinopub WebOS"},e))}},896:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(13),r=n(60),a=n(55),o=n.n(a),u=n(253),i=n(3),s=["children","className"],l=function(e){var t=e.children,n=e.className,a=Object(r.a)(e,s);return t?Object(i.jsx)(u.a,Object(c.a)(Object(c.a)({},a),{},{className:o()("flex justify-between items-center mx-2 my-1 mb-3 min-h-9",n),as:"div",children:t})):null}},897:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var c=n(13),r=n(60),a=n(55),o=n.n(a),u=n(2),i=n(930),s=n.n(i),l=n(894),b=n(3),j=function(e){var t=Object(u.useContext)(l.a).id;return Object(b.jsx)(s.a,Object(c.a)(Object(c.a)({once:!0,offset:100,scrollContainer:t&&"#".concat(t)},e),{},{placeholder:Object(b.jsx)("div",{className:"w-full h-full"})}))};var d=j,f=n(254),O=["className","wrapperClassName","source","caption","children"],v=function(e){var t=e.className,n=e.wrapperClassName,a=e.source,u=e.caption,i=e.children,s=Object(r.a)(e,O);return Object(b.jsxs)(f.a,Object(c.a)(Object(c.a)({},s),{},{className:o()("rounded-xl w-1/5 cursor-pointer",n),children:[Object(b.jsxs)(d,{className:o()("h-40 m-1 flex flex-col relative",t),children:[Object(b.jsx)("img",{loading:"lazy",className:"w-full h-full object-cover rounded-xl border-2 border-gray-300 bg-gray-300",src:a,alt:u}),i]}),u&&Object(b.jsx)("div",{className:"px-2",children:Object(b.jsx)("p",{className:"text-gray-200 text-sm text-center overflow-hidden overflow-ellipsis whitespace-nowrap",children:u})})]}))}},898:function(e,t,n){"use strict";var c=n(107),r=n(2),a=n(939),o=n(252);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,u=Object(r.useMemo)((function(){return new o.c}),[]),i=Object(a.a)([e].concat(Object(c.a)(t)),(function(){return u[e].apply(u,Object(c.a)(t))}),n);return i}},939:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(938),r=n(5),a=n(904);function o(e,t,n){var o=Object(r.l)(e,t,n);return Object(a.a)(o,c.a)}}}]);
//# sourceMappingURL=27.9d2e8edf.chunk.js.map