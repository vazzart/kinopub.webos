(this["webpackJsonpkinopub.webos"]=this["webpackJsonpkinopub.webos"]||[]).push([[19],{1101:function(e,t,n){var r=n(276);e.exports=function(e,t){return r(e,t)}},1114:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n(13),c=n(29),u=n.n(c),a=n(54),i=n(51),o=n(2),s=n(32),l=n(252),d=n(966),b=n(898),f=n(903),v=n(259),h=n(1101),j=n.n(h);var O=function(e,t){var n=Object(o.useRef)();return n.current&&j()(t,n.current.key)||(n.current={key:t,value:e()}),n.current.value},p=n(989),m=n(260),k=n(904),g=n(946),y=n(3),C=function(e,t,n){var r=function(e,t,n){return Object(o.useMemo)((function(){var r,c,u=null===(r=e.videos||(null===n||void 0===n?void 0:n.episodes))||void 0===r?void 0:r.find((function(e){return e.number===t.number+1}));if(u)return u;var a=null===(c=e.seasons)||void 0===c?void 0:c.find((function(e){return e.number===((null===n||void 0===n?void 0:n.number)||0)+1}));return a?a.episodes[0]:void 0}),[e,n,t])}(e,t,n);return[function(e,t,n){return Object(o.useMemo)((function(){var r,c,u=null===(r=e.videos||(null===n||void 0===n?void 0:n.episodes))||void 0===r?void 0:r.find((function(e){return e.number===t.number-1}));if(u)return u;var a=null===(c=e.seasons)||void 0===c?void 0:c.find((function(e){return e.number===((null===n||void 0===n?void 0:n.number)||0)-1}));return a?a.episodes[a.episodes.length-1]:void 0}),[e,n,t])}(e,t,n),r]},T=function(){var e=Object(s.h)(),t=Object(p.a)("episodeId"),n=Object(p.a)("seasonId"),c=(Object(s.i)().state||{}).item,h=Object(o.useMemo)((function(){return Object(k.d)(c,t,n)}),[c,t,n]),j=Object(i.a)(h,2),T=j[0],S=j[1],x=Object(v.a)("watchingMarkTime").watchingMarkTimeAsync,R=Object(m.a)("streaming_type"),w=Object(i.a)(R,1)[0],E=Object(m.a)("is_ac3_by_default_active"),N=Object(i.a)(E,1)[0],I=Object(m.a)("is_forced_by_default_active"),A=Object(i.a)(I,1)[0],U=Object(m.a)("item_".concat(c.id,"_saved_audio_name")),L=Object(i.a)(U,2),P=L[0],M=L[1],Q=Object(m.a)("item_".concat(c.id,"_saved_source_name")),_=Object(i.a)(Q,2),F=_[0],B=_[1],D=Object(m.a)("item_".concat(c.id,"_saved_subtitle_name")),V=Object(i.a)(D,2),W=V[0],q=V[1],$=Object(o.useState)(T),z=Object(i.a)($,2),H=z[0],K=z[1],J=C(c,H,S),G=Object(i.a)(J,2),X=G[0],Y=G[1],Z=Object(f.a)("itemMediaLinks",[H.id]),ee=Object(o.useCallback)(function(){var e=Object(a.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.number,e.next=3,x([c.id,n,r,null===S||void 0===S?void 0:S.number]);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[x,c,S]),te=O((function(){return(null===Z||void 0===Z?void 0:Z.data)?{title:Object(k.c)(c,H,S),description:Object(k.a)(c,H,S),poster:c.posters.wide||c.posters.big,audios:Object(g.a)(H.audios,N,P),sources:Object(g.b)(Z.data.files,w,F),subtitles:Object(g.c)(Z.data.subtitles,A,W),startTime:H.watching.status===l.b.Watching?H.watching.time:0}:null}),[c,S,H,null===Z||void 0===Z?void 0:Z.data,w,N,A,P,F,W]),ne=Object(o.useCallback)((function(e){ee(H,e)}),[ee,H]),re=Object(o.useCallback)((function(t){ee(H,t),Y?K(Y):e.goBack()}),[ee,e,H,Y]),ce=Object(o.useCallback)((function(e){var t=e.currentTime;ee(H,t),X&&K(X)}),[ee,H,X]),ue=Object(o.useCallback)((function(e){var t=e.currentTime;ee(H,t),Y&&K(Y)}),[ee,H,Y]),ae=Object(o.useCallback)(function(){var e=Object(a.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(H,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ee,H]),ie=Object(o.useCallback)((function(e){M(null===e||void 0===e?void 0:e.name)}),[M]),oe=Object(o.useCallback)((function(e){B(null===e||void 0===e?void 0:e.name)}),[B]),se=Object(o.useCallback)((function(e){q(null===e||void 0===e?void 0:e.name)}),[q]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(b.a,{title:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440: ".concat(c.title," - \u0412\u0438\u0434\u0435\u043e")}),te&&Object(y.jsx)(d.a,Object(r.a)(Object(r.a)({},te),{},{streamingType:w,onPause:ne,onEnded:re,onJumpBackward:ce,onJumpForward:ue,onTimeSync:ae,onAudioChange:ie,onSourceChange:oe,onSubtitleChange:se}),H.id)]})}},898:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(13),c=n(905),u=n(3),a=function(e){return Object(u.jsx)(c.a,Object(r.a)({defaultTitle:"Unknown",titleTemplate:"%s | Kinopub WebOS"},e))}},899:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(13),c=n(52),u=n(2),a=n(46),i=n.n(a),o=n(51),s=n(108),l=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{disconnectOnLeave:!1},c=t.onEnterViewport,a=t.onLeaveViewport,i=Object(u.useState)(),l=Object(o.a)(i,2),d=l[1],b=Object(u.useRef)(null),f=Object(u.useRef)(!1),v=Object(u.useRef)(!1),h=Object(u.useRef)(0),j=Object(u.useRef)(0),O=Object(u.useCallback)((function(){if(e.current&&b.current){var t=Object(s.findDOMNode)(e.current);t&&b.current.observe(t)}}),[e,b]),p=Object(u.useCallback)((function(){if(e.current&&b.current){var t=Object(s.findDOMNode)(e.current);t&&(b.current.unobserve(t),b.current.disconnect(),b.current=null)}}),[e,b]),m=Object(u.useCallback)((function(e){var t=e[0]||{},n=t.isIntersecting,u=t.intersectionRatio,i="undefined"!==typeof n?n:u>0;if(!v.current&&i)return v.current=!0,null===c||void 0===c||c(),h.current+=1,f.current=i,void d(i);v.current&&!i&&(v.current=!1,null===a||void 0===a||a(),r.disconnectOnLeave&&b.current&&b.current.disconnect(),j.current+=1,f.current=i,d(i))}),[b,r.disconnectOnLeave,c,a]),k=Object(u.useCallback)((function(){b.current||(b.current=new IntersectionObserver(m,n))}),[b,n,m]);return Object(u.useEffect)((function(){return k(),O(),function(){p()}}),[k,O,p]),{inViewport:f.current,enterCount:h.current,leaveCount:j.current}},d=n(998);var b=function(e){var t=Object(d.a)();return Object(u.useMemo)((function(){return"".concat(e,"-").concat(t)}),[e,t])},f=n(3),v=["children","className","onScrollToEnd"],h=Object(u.createContext)({}),j=function(e){var t=e.children,n=e.className,a=e.onScrollToEnd,o=Object(c.a)(e,v),s=Object(u.useRef)(null),d=b("scrollable"),j=Object(u.useMemo)((function(){return{id:d}}),[d]);return l(s,{onEnterViewport:a}),Object(f.jsxs)("div",Object(r.a)(Object(r.a)({className:i()("overflow-y-auto h-full",n)},o),{},{id:d,children:[Object(f.jsx)(h.Provider,{value:j,children:t}),a&&Object(f.jsx)("div",{className:"h-40",ref:s})]}))}},900:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(13),c=n(52),u=n(2),a=n(46),i=n.n(a),o=n(254),s=n(256),l=n(3),d=["children","icon","iconOnly","autoFocus","className"],b=function(e){var t=e.children,n=e.icon,a=e.iconOnly,b=void 0===a?!t:a,f=e.autoFocus,v=e.className,h=Object(c.a)(e,d),j=Object(u.useRef)(null);return Object(u.useEffect)((function(){var e;return f&&(e=requestAnimationFrame((function(){var e,t;null===(e=j.current)||void 0===e||null===(t=e.node)||void 0===t||t.focus()}))),function(){e&&cancelAnimationFrame(e)}}),[j,f]),Object(l.jsx)(s.a,Object(r.a)(Object(r.a)({},h),{},{ref:j,className:i()("text-gray-200 whitespace-nowrap cursor-pointer rounded px-2 py-1",v),role:"button",children:Object(l.jsxs)("div",{className:"flex items-center",children:[n&&Object(l.jsx)(o.a,{className:i()({"mr-2":!b}),name:n}),!b&&t]})}))}},903:function(e,t,n){"use strict";var r=n(107),c=n(2),u=n(937),a=n(252);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=Object(c.useMemo)((function(){return new a.c}),[]),o=Object(u.a)([e].concat(Object(r.a)(t)),(function(){return i[e].apply(i,Object(r.a)(t))}),n);return o}},904:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(252);function c(e,t,n){var c,u,a,i,o=(null===e||void 0===e||null===(c=e.videos)||void 0===c?void 0:c.find((function(e){var n=e.number,c=e.watching;return t?+t===+n:c.status!==r.b.Watched})))||(null===e||void 0===e||null===(u=e.videos)||void 0===u?void 0:u[0]),s=(null===e||void 0===e||null===(a=e.seasons)||void 0===a?void 0:a.find((function(e){var t=e.number,c=e.watching;return n?+n===+t:c.status!==r.b.Watched})))||(null===e||void 0===e||null===(i=e.seasons)||void 0===i?void 0:i[0]),l=(null===s||void 0===s?void 0:s.episodes.find((function(e){var n=e.number,c=e.watching;return t?+t===+n:c.status!==r.b.Watched})))||(null===s||void 0===s?void 0:s.episodes[0]);return[o||l,s]}function u(e,t,n){var r=(null===e||void 0===e?void 0:e.title)||"";return n?"".concat(r," (s").concat((null===t||void 0===t?void 0:t.snumber)||1,"e").concat((null===t||void 0===t?void 0:t.number)||1,")"):r}function a(e,t,n){var r=(null===t||void 0===t?void 0:t.title)||"",c="s".concat((null===t||void 0===t?void 0:t.snumber)||1,"e").concat((null===t||void 0===t?void 0:t.number)||1);return n?r?"".concat(r," (").concat(c,")"):c:r}function i(e){return(null===e||void 0===e?void 0:e.quality)?2160===e.quality?"4k":1080===e.quality||720===e.quality?"hd":"sd":null}},907:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),c=n.n(r),u=n(27);function a(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var i=c.a.createContext(a()),o=n(263);function s(e,t){var n=c.a.useRef(!1),r=c.a.useState(0)[1],a=Object(o.b)(),s=c.a.useContext(i),l=a.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=u.a.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=u.a.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=u.a.batchCalls(l.onSettled)),l.suspense&&"number"!==typeof l.staleTime&&(l.staleTime=1e3),(l.suspense||l.useErrorBoundary)&&(s.isReset()||(l.retryOnMount=!1));var d=c.a.useState((function(){return new t(a,l)}))[0],b=d.getOptimisticResult(l);if(c.a.useEffect((function(){n.current=!0,s.clearReset();var e=d.subscribe(u.a.batchCalls((function(){n.current&&r((function(e){return e+1}))})));return d.updateResult(),function(){n.current=!1,e()}}),[s,d]),c.a.useEffect((function(){d.setOptions(l,{listeners:!1})}),[l,d]),l.suspense&&b.isLoading)throw d.fetchOptimistic(l).then((function(e){var t=e.data;null==l.onSuccess||l.onSuccess(t),null==l.onSettled||l.onSettled(t,null)})).catch((function(e){s.clearReset(),null==l.onError||l.onError(e),null==l.onSettled||l.onSettled(void 0,e)}));if((l.suspense||l.useErrorBoundary)&&b.isError&&!b.isFetching)throw b.error;return"tracked"===l.notifyOnChangeProps&&(b=d.trackResult(b)),b}},909:function(e,t,n){"use strict";var r=n(51),c=n(2);t.a=function(e){var t=Object(c.useState)(e),n=Object(r.a)(t,2),u=n[0],a=n[1];return Object(c.useEffect)((function(){a(e)}),[e]),[u,a]}},913:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(13),c=n(52),u=n(2),a=n(900),i=n(3),o=["defaultChecked","checked","onChange","className","children","disabled"],s=function(e){var t=e.defaultChecked,n=e.checked,s=e.onChange,l=e.className,d=e.children,b=e.disabled,f=Object(c.a)(e,o),v=Object(u.useRef)(null),h=Object(u.useCallback)((function(e){null===s||void 0===s||s(e.target.checked,e)}),[s]),j=Object(u.useCallback)((function(){var e;null===(e=v.current)||void 0===e||e.click()}),[]);return Object(i.jsxs)(a.a,{className:l,onClick:j,disabled:b,children:[Object(i.jsx)("input",Object(r.a)(Object(r.a)({type:"checkbox"},f),{},{ref:v,className:"inline-block w-4 h-4",defaultChecked:t,checked:n,onChange:h,disabled:b})),Object(i.jsx)("span",{className:"inline-block ml-2 whitespace-nowrap",children:d})]})}},916:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(13),c=n(941),u=n.n(c),a=n(3),i=u()({enterTo:"default-element",defaultElement:".spottable",selector:".spottable",overflow:!0,preserveId:!0},(function(e){return Object(a.jsx)("div",Object(r.a)({},e))}))},927:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(51),c=n(2),u=n(900),a=n(254),i=n(253),o=n(909),s=n(1104);var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2?arguments[2]:void 0;return Object(s.a)(e,t,n)},d=n(3),b=function(e){var t=e.open,n=e.onToggle,s=e.title,b=e.subtitle,f=e.className,v=e.children,h=e.disabled,j=Object(o.a)(t),O=Object(r.a)(j,2),p=O[0],m=O[1],k=Object(c.useCallback)((function(){if(!h){var e=!p;null===n||void 0===n||n(e),m(e)}}),[h,p,m,n]),g=l(k);return Object(d.jsxs)("div",{className:"flex flex-col w-full",children:[Object(d.jsx)(u.a,{onClick:g,className:f,disabled:h,children:Object(d.jsxs)("div",{className:"flex flex-col",children:[Object(d.jsxs)("div",{className:"flex items-center",children:[Object(d.jsx)(i.a,{children:s}),!h&&Object(d.jsx)(a.a,{name:p?"expand_less":"expand_more"})]}),!p&&b&&Object(d.jsx)(i.a,{className:"mt-2",children:b})]})}),p&&v]})}},933:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(7),c=n(31),u=n(5),a=n(27),i=n(110),o=n(71),s=n(158),l=n(74),d=function(e){function t(t,n){var r;return(r=e.call(this)||this).client=t,r.options=n,r.trackedProps=[],r.previousSelectError=null,r.bindMethods(),r.setOptions(n),r}Object(c.a)(t,e);var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),b(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return e=this.currentQuery,!1!==(t=this.options).enabled&&("always"===t.refetchOnReconnect||!1!==t.refetchOnReconnect&&v(e,t));var e,t},n.shouldFetchOnWindowFocus=function(){return e=this.currentQuery,!1!==(t=this.options).enabled&&("always"===t.refetchOnWindowFocus||!1!==t.refetchOnWindowFocus&&v(e,t));var e,t},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var c=this.hasListeners();c&&f(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!c||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout(),!c||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.refetchInterval===n.refetchInterval||this.updateRefetchInterval()},n.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e){var t=this,n={};return Object.keys(e).forEach((function(r){Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:function(){var n=r;return t.trackedProps.includes(n)||t.trackedProps.push(n),e[n]}})})),n},n.getNextResult=function(e){var t=this;return new Promise((function(n,r){var c=t.subscribe((function(t){t.isFetching||(c(),t.isError&&(null==e?void 0:e.throwOnError)?r(t.error):n(t))}))}))},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch(Object(r.a)({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},n.fetchOptimistic=function(e){var t=this,n=this.client.defaultQueryObserverOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.fetch().then((function(){return t.createResult(r,n)}))},n.fetch=function(e){var t=this;return this.executeFetch(e).then((function(){return t.updateResult(),t.currentResult}))},n.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(u.i)),t},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!u.e&&!this.currentResult.isStale&&Object(u.f)(this.options.staleTime)){var t=Object(u.r)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}},n.updateRefetchInterval=function(){var e=this;this.clearRefetchInterval(),!u.e&&!1!==this.options.enabled&&Object(u.f)(this.options.refetchInterval)&&(this.refetchIntervalId=setInterval((function(){(e.options.refetchIntervalInBackground||i.a.isFocused())&&e.executeFetch()}),this.options.refetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval()},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},n.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},n.createResult=function(e,t){var n,r=this.currentQuery,c=this.options,a=this.currentResult,i=this.currentResultState,o=this.currentResultOptions,l=e!==r,d=l?e.state:this.currentQueryInitialState,h=l?this.currentResult:this.previousQueryResult,j=e.state,O=j.dataUpdatedAt,p=j.error,m=j.errorUpdatedAt,k=j.isFetching,g=j.status,y=!1,C=!1;if(t.optimisticResults){var T=this.hasListeners(),S=!T&&b(e,t),x=T&&f(e,r,t,c);(S||x)&&(k=!0,O||(g="loading"))}if(t.keepPreviousData&&!j.dataUpdateCount&&(null==h?void 0:h.isSuccess)&&"error"!==g)n=h.data,O=h.dataUpdatedAt,g=h.status,y=!0;else if(t.select&&"undefined"!==typeof j.data)if(a&&j.data===(null==i?void 0:i.data)&&t.select===(null==o?void 0:o.select)&&!this.previousSelectError)n=a.data;else try{n=t.select(j.data),!1!==t.structuralSharing&&(n=Object(u.n)(null==a?void 0:a.data,n)),this.previousSelectError=null}catch(w){Object(s.a)().error(w),p=w,this.previousSelectError=w,m=Date.now(),g="error"}else n=j.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof n&&("loading"===g||"idle"===g)){var R;if((null==a?void 0:a.isPlaceholderData)&&t.placeholderData===(null==o?void 0:o.placeholderData))R=a.data;else if(R="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof R)try{R=t.select(R),!1!==t.structuralSharing&&(R=Object(u.n)(null==a?void 0:a.data,R)),this.previousSelectError=null}catch(w){Object(s.a)().error(w),p=w,this.previousSelectError=w,m=Date.now(),g="error"}"undefined"!==typeof R&&(g="success",n=R,C=!0)}return{status:g,isLoading:"loading"===g,isSuccess:"success"===g,isError:"error"===g,isIdle:"idle"===g,data:n,dataUpdatedAt:O,error:p,errorUpdatedAt:m,failureCount:j.fetchFailureCount,isFetched:j.dataUpdateCount>0||j.errorUpdateCount>0,isFetchedAfterMount:j.dataUpdateCount>d.dataUpdateCount||j.errorUpdateCount>d.errorUpdateCount,isFetching:k,isLoadingError:"error"===g&&0===j.dataUpdatedAt,isPlaceholderData:C,isPreviousData:y,isRefetchError:"error"===g&&0!==j.dataUpdatedAt,isStale:v(e,t),refetch:this.refetch,remove:this.remove}},n.shouldNotifyListeners=function(e,t){if(!t)return!0;if(e===t)return!1;var n=this.options,r=n.notifyOnChangeProps,c=n.notifyOnChangePropsExclusions;if(!r&&!c)return!0;if("tracked"===r&&!this.trackedProps.length)return!0;var u="tracked"===r?this.trackedProps:r;return Object.keys(e).some((function(n){var r=n,a=e[r]!==t[r],i=null==u?void 0:u.some((function(e){return e===n})),o=null==c?void 0:c.some((function(e){return e===n}));return a&&!o&&(!u||i)}))},n.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Object(u.p)(this.currentResult,t)){var n={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(n.listeners=!0),this.notify(Object(r.a)({},n,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||Object(l.c)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var t=this;a.a.batch((function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))},t}(o.a);function b(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||function(e,t){return!1!==t.enabled&&e.state.dataUpdatedAt>0&&("always"===t.refetchOnMount||!1!==t.refetchOnMount&&v(e,t))}(e,t)}function f(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&("error"!==e.state.status||!1===r.enabled)&&v(e,n)}function v(e,t){return e.isStaleByTime(t.staleTime)}},934:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(51),c=n(2),u=n(199),a=n.n(u),i=n(927),o=n(13),s=n(913),l=n(3),d=function(e){return Object(l.jsx)(s.a,Object(o.a)(Object(o.a)({},e),{},{type:"radio"}))},b=n(909),f=function(e){var t=e.label,n=e.options,u=e.defaultValue,o=e.value,s=e.onChange,f=e.closeOnChange,v=void 0===f||f,h=e.className,j=e.splitIn,O=e.disabled,p=Object(c.useState)(!1),m=Object(r.a)(p,2),k=m[0],g=m[1],y=Object(b.a)(o||u),C=Object(r.a)(y,2),T=C[0],S=C[1],x=Object(c.useMemo)((function(){return Array.isArray(n)?n.map((function(e,t){return"object"===typeof e?e:{title:e,value:t}})):[]}),[n]),R=Object(c.useMemo)((function(){return x.find((function(e){return e.value===T}))}),[x,T]),w=Object(c.useCallback)((function(e){S(e),null===s||void 0===s||s(e),v&&g(!1)}),[S,s,v]),E=Object(c.useCallback)((function(e){return function(t){t&&w(e.value)}}),[w]);return Object(l.jsx)(i.a,{open:k,onToggle:g,title:t,subtitle:null===R||void 0===R?void 0:R.title,className:h,disabled:O,children:Object(l.jsx)("div",{className:"flex flex-wrap",children:a()(x,(function(e){return Object(l.jsx)(d,{className:j?"w-1/".concat(j):"w-full",checked:e.value===T,onChange:E(e),children:e.title},e.value)}))})})}},935:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(13),c=n(52),u=n(2),a=n(257),i=n.n(a),o=n(46),s=n.n(o),l=n(899),d=n(916),b=n(255),f=n(32);var v=function(e,t,n){var r=Object(f.h)(),c=Object(u.useCallback)((function(){return r.location.hash.includes(e)}),[e,r]),a=Object(u.useCallback)((function(){c()||r.push({hash:e,state:r.location.state,search:r.location.search,pathname:r.location.pathname}),null===n||void 0===n||n()}),[e,c,r,n]),i=Object(u.useCallback)((function(){c()&&r.goBack(),null===t||void 0===t||t()}),[c,r,t]);return Object(u.useEffect)((function(){var e=setTimeout((function(){c()?a():i()}),100);return function(){clearTimeout(e)}}),[c,a,i,r.location.hash]),Object(u.useMemo)((function(){return{open:a,close:i}}),[a,i])},h=n(3),j=["visible","onClose","children","className","closeButton"],O=function(e){var t=e.visible,n=e.onClose,a=e.children,o=e.className,f=e.closeButton,O=void 0===f?"Blue":f,p=Object(c.a)(e,j),m=Object(u.useMemo)((function(){return i.a.add({})}),[]),k=Object(u.useCallback)((function(){n()}),[n]),g=Object(u.useCallback)((function(){if(t)return k(),!1}),[t,k]),y=Object(u.useCallback)((function(){if(!i.a.focus(m)){var e=i.a.getCurrent();e&&e.blur(),i.a.setActiveContainer(m),setTimeout((function(){i.a.setPointerMode(!1),i.a.focus(m)}),500)}}),[m]),C=Object(u.useCallback)((function(){var e=i.a.getCurrent();requestAnimationFrame((function(){null===e||void 0===e||e.scrollIntoViewIfNeeded()}))}),[]);Object(b.a)("Back",g),Object(b.a)("ArrowUp",C),Object(b.a)("ArrowDown",C),Object(b.a)(O,g);var T=v("popup",g);return Object(u.useEffect)((function(){t?(y(),T.open()):T.close()}),[t,y,T]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:s()("fixed z-999 top-0 left-0 right-0 bottom-0 bg-black bg-opacity-50",{hidden:!t}),onClick:k}),Object(h.jsx)(d.a,Object(r.a)(Object(r.a)({},p),{},{spotlightId:m,spotlightRestrict:"self-only",spotlightDisabled:!t,className:s()("fixed z-999 bottom-0 left-0 right-0 p-4 bg-black ring",{hidden:!t},o),children:Object(h.jsx)(l.a,{className:"max-h-screen",children:a})}))]})}},937:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(933),c=n(5),u=n(907);function a(e,t,n){var a=Object(c.l)(e,t,n);return Object(u.a)(a,r.a)}},945:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(958),c=n.n(r);function u(e){return c()(1e3*(e||0),{leading:!0})}},946:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return v}));var r=n(910),c=n.n(r),u=n(199),a=n.n(u),i=n(947),o=n.n(i),s=n(963),l=n.n(s),d=function(e){return e<10?"0".concat(e):e};function b(e,t,n){return a()(e,(function(e,r){var u,a,i,o,s,b,f,v=c()([(null===(u=e.type)||void 0===u?void 0:u.title)&&(null===(a=e.author)||void 0===a?void 0:a.title)?"".concat(null===(i=e.type)||void 0===i?void 0:i.title,"."):null===(o=e.type)||void 0===o?void 0:o.title,null===(s=e.author)||void 0===s?void 0:s.title,(null===(b=e.type)||void 0===b?void 0:b.title)||(null===(f=e.author)||void 0===f?void 0:f.title)?"(".concat(l()(e.lang),")"):l()(e.lang),"ac3"===e.codec&&l()(e.codec)]).join(" ");return{name:v,number:"".concat(d(r+1),"."),lang:e.lang,default:n&&n===v||!n&&t&&"ac3"===e.codec}}))}function f(e,t,n){return o()(a()(e,(function(e){var r="string"===typeof e.url?e.url:e.url[t]||e.url.http,c=e.quality;return{src:r,name:c,type:r.includes(".m3u8")?"application/x-mpegURL":"video/mp4",default:n===c}})),(function(e){var t=e.name;return parseInt(t)}),"desc")}function v(e,t,n){return a()(e,(function(e,r){var c="".concat(l()(e.lang)).concat(e.forced?" Forced":"");return{name:c,number:"".concat(d(r+1),"."),src:e.url,lang:e.lang,default:n&&n===c||!n&&t&&e.forced&&"rus"===e.lang}}))}},948:function(e,t,n){"use strict";var r=n(2),c=n(32);t.a=function(){var e=Object(c.i)();return Object(r.useMemo)((function(){return t=e.search,Object.fromEntries(new URLSearchParams(t).entries());var t}),[e.search])}},966:function(e,t,n){"use strict";n.d(t,"a",(function(){return X}));var r=n(13),c=n(29),u=n.n(c),a=n(54),i=n(51),o=n(52),s=n(2),l=n.n(s),d=n(976),b=n.n(d),f=n(257),v=n.n(f),h=n(900),j=n(268),O=n(3),p=["onClick"],m=function(e){var t=e.onClick,n=Object(o.a)(e,p),c=Object(s.useCallback)((function(e){Object(j.c)("Back"),null===t||void 0===t||t(e)}),[t]);return Object(O.jsx)(h.a,Object(r.a)(Object(r.a)({icon:"arrow_back"},n),{},{onClick:c}))},k=n(95),g=n(46),y=n.n(g),C=n(978),T=n.n(C),S=n(979),x=n.n(S),R=n(912),w=n.n(R),E=n(260),N=n(91),I=n(92),A=function(){function e(t){Object(N.a)(this,e),this.resource=void 0,this.objectURL=void 0,this.resource=t}return Object(I.a)(e,[{key:"blobToBuffer",value:function(){var e=this;return new Promise((function(t,n){var r=new FileReader;r.addEventListener("loadend",(function(e){var n,r=null===(n=e.target)||void 0===n?void 0:n.result;t(new Uint8Array(r))})),r.addEventListener("error",(function(){return n("Error while reading the Blob object")})),r.readAsArrayBuffer(e.resource)}))}},{key:"getURL",value:function(){var t=this;return new Promise((function(n,r){return t.resource instanceof Blob?FileReader?TextDecoder?e.blobToString(t.resource,(function(r){var c="WEBVTT FILE\r\n\r\n".concat(e.toVTT(r)),u=new Blob([c],{type:"text/vtt"});return t.objectURL=URL.createObjectURL(u),n(t.objectURL)}),(function(){t.blobToBuffer().then((function(r){var c=new TextDecoder("utf-8").decode(r),u="WEBVTT FILE\r\n\r\n".concat(e.toVTT(c)),a=new Blob([u],{type:"text/vtt"});return t.objectURL=URL.createObjectURL(a),n(t.objectURL)}))})):r("No TextDecoder constructor found"):r("No FileReader constructor found"):r("Expecting resource to be a Blob but something else found.")}))}},{key:"release",value:function(){URL.createObjectURL(this.objectURL)}}],[{key:"blobToString",value:function(e,t,n){var r=new FileReader;r.addEventListener("loadend",(function(e){var n,r=null===(n=e.target)||void 0===n?void 0:n.result;t(r)})),r.addEventListener("error",(function(){return n()})),r.readAsText(e)}},{key:"toVTT",value:function(e){return e.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").concat("\r\n\r\n")}},{key:"toTypedArray",value:function(e){var t=[];return e.split("").forEach((function(e){t.push(parseInt("".concat(e.charCodeAt(0)),16))})),Uint8Array.from(t)}}]),e}();function U(){return(U=Object(a.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return e.next=4,e.sent.blob();case 4:return n=e.sent,r=new A(n),e.abrupt("return",r.getURL());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=["autoPlay","audioTracks","sourceTracks","subtitleTracks","streamingType","isSettingsOpen","onUpdate","onAudioChange","onSourceChange","onSubtitleChange","className","mediaComponent"];function P(e){var t=e.autoPlay,n=e.audioTracks,r=e.sourceTracks,c=e.subtitleTracks,u=e.streamingType,a=e.isSettingsOpen,o=e.onAudioChange,l=e.onSourceChange,d=e.onSubtitleChange,b=Object(s.useRef)(null),f=Object(s.useRef)(null),v=Object(s.useRef)(0),h=Object(s.useRef)(!1),j=Object(s.useState)(!1),O=Object(i.a)(j,2),p=O[0],m=O[1],k=Object(E.a)("is_hls.js_active"),g=Object(i.a)(k,1)[0],y=Object(s.useState)((function(){return(null===n||void 0===n?void 0:n.find((function(e){return e.default})))||(null===n||void 0===n?void 0:n[0])})),C=Object(i.a)(y,2),S=C[0],R=C[1],N=Object(s.useState)((function(){return(null===r||void 0===r?void 0:r.find((function(e){return e.default})))||(null===r||void 0===r?void 0:r[0])})),I=Object(i.a)(N,2),A=I[0],L=I[1],P=Object(s.useState)((function(){return(null===c||void 0===c?void 0:c.find((function(e){return e.default})))||null})),M=Object(i.a)(P,2),Q=M[0],_=M[1],F=Object(s.useCallback)((function(){return"hls2"===u?[]:n}),[n,u]),B=Object(s.useCallback)((function(){return null===S||void 0===S?void 0:S.name}),[S]),D=Object(s.useCallback)((function(e){var t,r=null!==(t=null===n||void 0===n?void 0:n.findIndex((function(t){return t.name===e})))&&void 0!==t?t:-1;if(-1!==r){var c=n[r];R(c),null===o||void 0===o||o(c)}}),[n,o]),V=Object(s.useCallback)((function(){return w()(r,"src")}),[r]),W=Object(s.useCallback)((function(){return null===A||void 0===A?void 0:A.name}),[A]),q=Object(s.useCallback)((function(e){var t,n=null!==(t=null===r||void 0===r?void 0:r.findIndex((function(t){return t.name===e})))&&void 0!==t?t:-1;if(-1!==n){var c=r[n];L(c),null===l||void 0===l||l(c)}}),[r,l]),$=Object(s.useCallback)((function(){return c}),[c]),z=Object(s.useCallback)((function(){return null===Q||void 0===Q?void 0:Q.name}),[Q]),H=Object(s.useCallback)((function(e){var t,n=null!==(t=null===c||void 0===c?void 0:c.findIndex((function(t){return t.name===e})))&&void 0!==t?t:-1,r=-1!==n&&c[n]||null;_(r),null===d||void 0===d||d(r)}),[c,d]),K=Object(s.useMemo)((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.findIndex((function(e){return e.name===S.name})))&&void 0!==e?e:0}),[n,S]),J=Object(s.useMemo)((function(){return"hls"===u?null===A||void 0===A?void 0:A.src.replace(/master-v1a\d/,"master-v1a".concat(K+1)):null===A||void 0===A?void 0:A.src}),[u,K,null===A||void 0===A?void 0:A.src]),G=Object(s.useCallback)((function(){b.current&&(m(!0),b.current.removeEventListener("canplay",G),v.current>0?(b.current.currentTime=v.current,h.current?b.current.pause():b.current.play()):t&&!h.current&&b.current.play())}),[t]);return Object(s.useEffect)((function(){if(b.current&&J){if(!1!==g&&J.includes(".m3u8")&&T.a.isSupported()){var e=f.current=new T.a({enableWebVTT:!1,enableCEA708Captions:!1});e.attachMedia(b.current),e.on(T.a.Events.MEDIA_ATTACHED,(function(){e.loadSource(J)}))}else b.current.src=J;m(!1),b.current.addEventListener("canplay",G)}return function(){b.current&&(b.current.currentTime>0&&(v.current=b.current.currentTime),b.current.removeEventListener("canplay",G)),f.current&&(f.current.destroy(),f.current=null)}}),[J,g,G]),Object(s.useEffect)((function(){if(p)if(f.current){var e,t=null===(e=f.current.audioTracks)||void 0===e?void 0:e[K];t&&(f.current.audioTrack=t.id)}else if(b.current){var n;(null===(n=b.current.audioTracks)||void 0===n?void 0:n[K])&&(x()(b.current.audioTracks,(function(e,t){e.enabled=t===K})),b.current.currentTime-=1)}}),[p,K]),Object(s.useEffect)((function(){if(p&&b.current){for(;b.current.firstChild;)b.current.lastChild.track.mode="disabled",b.current.removeChild(b.current.lastChild);if(Q){var e=function(e){if(b.current){var t=document.createElement("track");b.current.appendChild(t),t.src=e,t.kind="captions",t.id=Q.name,t.label=Q.name,t.srclang=Q.lang,t.track.mode="showing"}};Q.src.endsWith(".srt")?function(e){return U.apply(this,arguments)}(Q.src).then(e):e(Q.src)}}}),[p,Q]),Object(s.useEffect)((function(){h.current=Boolean(a)}),[a]),Object(s.useMemo)((function(){return{videoRef:b,getAudioTracks:F,getAudioTrack:B,setAudioTrack:D,getSourceTracks:V,getSourceTrack:W,setSourceTrack:q,getSubtitleTracks:$,getSubtitleTrack:z,setSubtitleTrack:H}}),[b,F,B,D,V,W,q,$,z,H])}var M=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Q=l.a.forwardRef((function(e,t){var n=e.autoPlay,c=e.audioTracks,i=e.sourceTracks,l=e.subtitleTracks,d=e.streamingType,b=e.isSettingsOpen,f=e.onUpdate,v=e.onAudioChange,h=e.onSourceChange,j=e.onSubtitleChange,p=e.className,m=(e.mediaComponent,Object(o.a)(e,L)),g=Object(s.useCallback)((function(){null===f||void 0===f||f()}),[f]),C=Object(s.useMemo)((function(){return M.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),{},Object(k.a)({},t,(function(){var e;g();for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];null===(e=m[t])||void 0===e||e.call.apply(e,[m].concat(r))})))}),{})}),[m,g]),T=function(e,t){var n=P(t),r=n.videoRef,c=Object(s.useCallback)((function(){return r.current?r.current.currentTime:0}),[r]),i=Object(s.useCallback)((function(e){r.current&&(r.current.currentTime=e)}),[r]),o=Object(s.useCallback)((function(){return r.current?r.current.playbackRate:1}),[r]),l=Object(s.useCallback)((function(e){r.current&&(r.current.playbackRate=e)}),[r]),d=Object(s.useCallback)((function(){return!!r.current&&r.current.paused}),[r]),b=Object(s.useCallback)((function(){return r.current?r.current.duration:0}),[r]),f=Object(s.useCallback)((function(){return!!r.current&&r.current.networkState===r.current.NETWORK_NO_SOURCE}),[r]),v=Object(s.useCallback)((function(){return!r.current||r.current.readyState<r.current.HAVE_ENOUGH_DATA}),[r]),h=Object(s.useCallback)((function(){return r.current?r.current.buffered.length&&r.current.buffered.end(r.current.buffered.length-1)/r.current.duration:0}),[r]),j=Object(s.useCallback)((function(){return r.current?r.current.currentTime/r.current.duration:0}),[r]),O=Object(s.useCallback)(Object(a.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.play();case 2:case"end":return e.stop()}}),e)}))),[r]),p=Object(s.useCallback)((function(){var e;null===(e=r.current)||void 0===e||e.pause()}),[r]),m=Object(s.useCallback)(Object(a.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d()){e.next=5;break}return e.next=3,O();case 3:e.next=6;break;case 5:p();case 6:case"end":return e.stop()}}),e)}))),[O,p,d]),k=Object(s.useCallback)((function(){var e;null===(e=r.current)||void 0===e||e.load()}),[r]),g=Object(s.useMemo)((function(){return{play:O,pause:p,playPause:m,load:k,get currentTime(){return c()},set currentTime(e){i(e)},get audioTracks(){return n.getAudioTracks()},get audioTrack(){return n.getAudioTrack()},set audioTrack(e){n.setAudioTrack(e)},get sourceTracks(){return n.getSourceTracks()},get sourceTrack(){return n.getSourceTrack()},set sourceTrack(e){n.setSourceTrack(e)},get subtitleTracks(){return n.getSubtitleTracks()},get subtitleTrack(){return n.getSubtitleTrack()},set subtitleTrack(e){n.setSubtitleTrack(e)},get playbackRate(){return o()},set playbackRate(e){l(e)},get paused(){return d()},get duration(){return b()},get error(){return f()},get loading(){return v()},get proportionLoaded(){return h()},get proportionPlayed(){return j()}}}),[n,O,p,m,k,c,i,o,l,d,b,f,v,h,j]);return Object(s.useImperativeHandle)(e,(function(){return g}),[g]),Object(s.useMemo)((function(){return{api:g,player:n}}),[g,n])}(t,{autoPlay:n,audioTracks:c,sourceTracks:i,subtitleTracks:l,streamingType:d,isSettingsOpen:b,onAudioChange:v,onSourceChange:h,onSubtitleChange:j}).player;return Object(O.jsx)("video",Object(r.a)(Object(r.a)(Object(r.a)({},m),C),{},{autoPlay:!1,className:y()("w-screen h-screen",p),ref:T.videoRef}))})),_=n(253),F=n(255),B=n(107),D=n(199),V=n.n(D),W=n(935),q=n(934),$="NONE",z=function(e){var t=e.visible,n=e.onClose,r=e.player,c=Object(s.useState)(t),u=Object(i.a)(c,2),a=u[0],o=u[1],l=Object(s.useState)([]),d=Object(i.a)(l,2),b=d[0],f=d[1],v=Object(s.useState)(null),h=Object(i.a)(v,2),j=h[0],p=h[1],m=Object(s.useState)([]),k=Object(i.a)(m,2),g=k[0],y=k[1],C=Object(s.useState)(null),T=Object(i.a)(C,2),S=T[0],x=T[1],R=Object(s.useState)([]),w=Object(i.a)(R,2),E=w[0],N=w[1],I=Object(s.useState)($),A=Object(i.a)(I,2),U=A[0],L=A[1],P=Object(s.useMemo)((function(){return V()(b,(function(e){return{title:"".concat(e.number," ").concat(e.name),value:e.name}}))}),[b]),M=Object(s.useMemo)((function(){return V()(g,(function(e){return{title:e.name,value:e.name}}))}),[g]),Q=Object(s.useMemo)((function(){return[{title:"\u041d\u0435\u0442",value:$}].concat(Object(B.a)(V()(E,(function(e){return{title:"".concat(e.number," ").concat(e.name),value:e.name}}))))}),[E]),_=Object(s.useCallback)((function(e,t){r.current&&(r.current.getVideoNode()[e]=t)}),[r]),F=Object(s.useCallback)((function(e){p(e),_("audioTrack",e)}),[_]),D=Object(s.useCallback)((function(e){x(e),_("sourceTrack",e)}),[_]),z=Object(s.useCallback)((function(e){L(e),_("subtitleTrack",e)}),[_]),H=Object(s.useCallback)((function(){n()}),[n]);return Object(s.useEffect)((function(){if(t&&r.current){var e=r.current.getVideoNode(),n=e.audioTracks,c=e.audioTrack,u=e.sourceTracks,a=e.sourceTrack,i=e.subtitleTracks,o=e.subtitleTrack;(null===n||void 0===n?void 0:n.length)>1||(null===u||void 0===u?void 0:u.length)>1||(null===i||void 0===i?void 0:i.length)>0?(f(n),p(c),y(u),x(a),N(i),L(o||$)):H()}}),[t,r,H]),Object(s.useEffect)((function(){var e;return t?e=setTimeout((function(){o(!0)}),100):o(!1),function(){clearTimeout(e)}}),[t]),Object(O.jsxs)(W.a,{visible:a,onClose:H,children:[P.length>1&&Object(O.jsx)(q.a,{className:"my-1",label:"\u0417\u0432\u0443\u043a",value:j,options:P,onChange:F,splitIn:2}),M.length>1&&Object(O.jsx)(q.a,{className:"my-1",label:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e",value:S,options:M,onChange:D,splitIn:4}),Q.length>1&&Object(O.jsx)(q.a,{className:"my-1",label:"\u0421\u0443\u0431\u0442\u0438\u0442\u0440\u044b",value:U,options:Q,onChange:z,splitIn:4})]})},H=n(916),K=n(945),J=function(e){var t=e.startTime,n=e.startInDelay,r=void 0===n?5:n,c=e.player,u=Object(s.useState)(!0),a=Object(i.a)(u,2),o=a[0],l=a[1],d=Object(s.useState)(r),b=Object(i.a)(d,2),f=b[0],v=b[1],j=Object(s.useMemo)((function(){return Object(K.a)(t)}),[t]),p=Object(s.useCallback)((function(){c.current&&(l(!1),c.current.getVideoNode().currentTime=t)}),[t,c]),m=Object(s.useCallback)((function(){l(!1)}),[]);return Object(s.useEffect)((function(){var e;return o&&(e=setInterval((function(){v((function(e){var t=e-1;return t<=0&&p(),t}))}),1e3)),function(){clearInterval(e)}}),[o,p]),t&&o?Object(O.jsxs)(H.a,{spotlightRestrict:"self-only",className:"flex justify-center absolute w-full z-101 bottom-32",children:[Object(O.jsxs)(h.a,{onClick:p,children:["\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441 ",j," \u0447\u0435\u0440\u0435\u0437 ",f]}),Object(O.jsx)(h.a,{autoFocus:!0,onClick:m,children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441 \u043d\u0430\u0447\u0430\u043b\u0430"})]}):null},G=["title","description","poster","audios","sources","subtitles","startTime","timeSyncInterval","streamingType","onPlay","onPause","onEnded","onTimeSync"],X=function(e){var t=e.title,n=e.description,c=e.poster,l=e.audios,d=e.sources,f=e.subtitles,j=e.startTime,p=e.timeSyncInterval,k=void 0===p?30:p,g=e.streamingType,y=e.onPlay,C=e.onPause,T=e.onEnded,S=e.onTimeSync,x=Object(o.a)(e,G),R=Object(s.useRef)(),w=Object(s.useState)(!0),N=Object(i.a)(w,2),I=N[0],A=N[1],U=Object(s.useState)(!1),L=Object(i.a)(U,2),P=L[0],M=L[1],B=Object(s.useState)(!1),D=Object(i.a)(B,2),V=D[0],W=D[1],q=Object(E.a)("is_pause_by_ok_click_active"),$=Object(i.a)(q,1)[0],H=Object(s.useCallback)((function(){A(!1),W(!1),null===y||void 0===y||y()}),[y]),K=Object(s.useCallback)((function(e){A(!0),null===C||void 0===C||C(e.currentTime)}),[C]),X=Object(s.useCallback)((function(e){var t=v.a.getCurrent();if((!t||!t.offsetHeight||!t.offsetWidth)&&R.current&&$)return R.current.getVideoNode().playPause(),!1}),[R,$]),Y=Object(s.useCallback)((function(e){null===T||void 0===T||T(e.target.currentTime)}),[T]),Z=Object(s.useCallback)(Object(a.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R.current||!S){e.next=5;break}return t=R.current.getVideoNode(),n=t.currentTime,e.next=5,S(n);case 5:case"end":return e.stop()}}),e)}))),[S,R]),ee=Object(s.useCallback)((function(){M(!0)}),[]),te=Object(s.useCallback)((function(){R.current&&(W(!0),R.current.getVideoNode().pause())}),[R]),ne=Object(s.useCallback)((function(){R.current&&(W(!1),R.current.getVideoNode().play())}),[]),re=Object(s.useCallback)((function(){R.current&&R.current.getVideoNode().pause()}),[R]);return Object(s.useEffect)((function(){var e;return I&&(e=setTimeout((function(){A(!1)}),5e3)),function(){e&&clearTimeout(e)}}),[I]),Object(s.useEffect)((function(){var e;return S&&(e=setInterval(Z,1e3*k)),function(){e&&clearInterval(e)}}),[k,S,Z]),Object(F.a)("Back",Z),Object(F.a)("Blue",te),Object(F.a)("Play",ne),Object(F.a)("Pause",re),Object(F.a)("Enter",X),Object(F.a)("ArrowUp",te),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{visible:V,onClose:ne,player:R}),I&&Object(O.jsxs)("div",{className:"absolute z-10 top-0 px-4 pt-2 flex items-center",children:[Object(O.jsx)(m,{className:"mr-2"}),Object(O.jsx)(_.a,{children:t})]}),I&&Object(O.jsx)(h.a,{className:"absolute z-101 bottom-8 right-10 text-blue-600",icon:"settings",onClick:te}),P&&j>0&&Object(O.jsx)(J,{startTime:j,player:R}),Object(O.jsx)(b.a,Object(r.a)(Object(r.a)({},x),{},{ref:R,locale:"ru",poster:c,title:n,jumpBy:15,onPlay:H,onPause:K,onEnded:Y,onLoadedMetadata:ee,streamingType:g,isSettingsOpen:V,audioTracks:l,sourceTracks:d,subtitleTracks:f,videoComponent:Object(O.jsx)(Q,{})}))]})}},989:function(e,t,n){"use strict";var r=n(948);t.a=function(e){return Object(r.a)()[e]}}}]);
//# sourceMappingURL=19.2d326032.chunk.js.map